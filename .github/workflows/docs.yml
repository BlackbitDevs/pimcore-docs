
name: "Documentation"

on:
    schedule:
      - cron: '30 * * * *'
    workflow_dispatch:
    push:

jobs:
    docs:
        name: "Generate docs with Daux"
        runs-on: "ubuntu-20.04"
        steps:
            - name: "Checkout code"
              uses: "actions/checkout@v2"

            - name: "Install PHP"
              uses: "shivammathur/setup-php@v2"
              with:
                  coverage: "none"
                  php-version: "7.4"

            - name: "Install dependencies with Composer"
              uses: "ramsey/composer-install@v1"

            - name: "Docs for pimcore/pimcore"
              run: "./bin/do-generate.sh ./bin/settings-pimcore.sh"

            - name: "Docs for pimcore/advanced-object-search"
              run: "./bin/do-generate.sh ./bin/settings-aos.sh"